<body xmlns:width="http://www.w3.org/1999/xhtml">
<mat-sidenav-container color="primary">
  <mat-sidenav #sidenav mode="side" [(opened)]="boolshow" opened>
    <team-utilisation-monitor-comp-sidenav></team-utilisation-monitor-comp-sidenav>
  </mat-sidenav>

  <mat-sidenav-content>

    <team-utilisation-monitor-comp-admin-topnav [state]="boolshow"  (toggle)="boolshow=$event"></team-utilisation-monitor-comp-admin-topnav>

  <mat-card class="mat">

    <mat-grid-list cols="2" rowHeight="85%">

      <mat-grid-tile>

        <mat-grid-tile-header> </mat-grid-tile-header>
        <mat-card class="mat-card1">
          <mat-card-header>
            <mat-card-title>Allocated Teams</mat-card-title>
          </mat-card-header>

          <mat-card-content class="mid">
            <mat-nav-list class="list">
              <mat-list-item *ngFor="let link of teams">
                <a matLine href="#">{{ link }}</a>      <!--redirect to a respective Team view here-->
                <button mat-icon-button (click)="showInfo(link)">
                </button>
              </mat-list-item>
            </mat-nav-list>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header> </mat-grid-tile-header>

        <mat-card class="mat-card1">                                <!--FULL CARD THAT INCLUDES THE INNER CONTENT/LIST-->
          <mat-card-header>
            <mat-card-title>Allocated Projects</mat-card-title>
          </mat-card-header>

          <mat-card-content class="mid">                            <!--THE START OF THE LIST THAT IS DISPLAYED FROM THE DB-->
            <mat-nav-list class="list">
              <mat-list-item *ngFor="let link of projects">
                <a matLine href="#">{{ link }}</a>                      <!--redirect to a respective Team view here-->
                <button mat-icon-button (click)="showInfo(link)">
                </button>
              </mat-list-item>
            </mat-nav-list>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>

      <!--THE TOP UTILIZATION SUMMARY-->
      <div class="container">
        <mat-accordion >
          <mat-expansion-panel (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false" >          <!--BEGINNIGN OF EXPANSION PANEL THAT EXPAND TO DISPLAY GRAPH-->
            <mat-expansion-panel-header>
              <mat-panel-title>
                Utilization
              </mat-panel-title>
              <mat-panel-description>
                  {{panelOpenState ? 'close' : 'View'}} My Utilization
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="tc">

              <mat-card class="smc">
                <mat-card-header>
                  <mat-card-title>Utilization Summary</mat-card-title>
                </mat-card-header>
                <mat-card-content>

                    <div style="display: block">                            <!--container for the graph and its styling-->
                                                                             <!--THE STARTING OF INITIALISING OUR GRAPH-->
                      <canvas baseChart type='line'
                              [datasets]="lineChartData"
                              [labels]="lineChartLabels"
                              [legend]="lineChartLegend" ></canvas>
                    </div>

                </mat-card-content>
              </mat-card>
            </div>

          </mat-expansion-panel>
        </mat-accordion>

      </div>


    </mat-grid-list>
  </mat-card>

</mat-sidenav-content>
</mat-sidenav-container>
</body>
