<meta name="viewport" content="width=device-width, initial-scale=1.0">
<body xmlns:width="http://www.w3.org/1999/xhtml">
<mat-sidenav-container color="primary">
  <mat-sidenav #sidenav mode="side" [(opened)]="boolshow" opened>
    <team-utilisation-monitor-comp-sidenav></team-utilisation-monitor-comp-sidenav>
  </mat-sidenav>
  <mat-sidenav-content>
<div calss="as">
    <team-utilisation-monitor-comp-admin-topnav [state]="boolshow"  (toggle)="boolshow=$event"></team-utilisation-monitor-comp-admin-topnav>
</div>
  <mat-card class="mat">
    <div class="util">
      <mat-accordion >
        <mat-expansion-panel (opened)="panelOpenState = true"
                             (closed)="panelOpenState = false" >          <!--BEGINNIGN OF EXPANSION PANEL THAT EXPAND TO DISPLAY GRAPH-->
          <mat-expansion-panel-header>
            <mat-panel-title>
              Utilization
            </mat-panel-title>
            <mat-panel-description>
              {{panelOpenState ? 'close' : 'View'}} My Utilization
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="tc">

            <mat-card class="smc">
              <mat-card-header>
                <mat-card-title>Utilization Summary</mat-card-title>
                <br>
              </mat-card-header>
              <mat-card-content>

                <mat-tab-group mat-align-tabs="center">
                  <mat-tab label="Monthly utilization">
                    <br>
                    <team-utilisation-monitor-utilization-graph></team-utilisation-monitor-utilization-graph>
                  </mat-tab>

                  <mat-tab label="Weekly utilization">
                    <br>
                    <team-utilisation-monitor-weekly-utilisation-graph></team-utilisation-monitor-weekly-utilisation-graph>
                  </mat-tab>
                </mat-tab-group>

              </mat-card-content>
            </mat-card>
          </div>

        </mat-expansion-panel>
      </mat-accordion>
    </div>

    <hr>

    <div class="summ">
      <mat-tab-group mat-align-tabs="center" dynamicHeight="true">
        <div class="teamAndProjects">
          <mat-tab label="#Teams">
            <div class="center">
            <mat-card class="number-card">
              <mat-card-title-group class="subtitle">
                <mat-card-subtitle>Number of Teams joined</mat-card-subtitle>
              </mat-card-title-group>
              <mat-card-content>
              <h2> {{nrOfTeams}} </h2>
              </mat-card-content>
            </mat-card>
            </div>
          </mat-tab>

          <mat-tab label="#Projects" >
            <div class="center">
              <mat-card class="number-card">
                <mat-card-title-group class="subtitle">
                  <mat-card-subtitle>Number of open Projects</mat-card-subtitle>
                </mat-card-title-group>
                <mat-card-content>
                  <h2> {{nrOfOpenProjects}} </h2>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
        </div>

        <mat-tab label="Utilization%">

          <div class="center">
            <mat-card class="number-card">
              <mat-card-title-group class="subtitle">
                <mat-card-subtitle>Utilization Percentage</mat-card-subtitle>
              </mat-card-title-group>
              <mat-card-content>
                <h2> {{utilizationPercentage}}% </h2>
              </mat-card-content>
            </mat-card>
          </div>

        </mat-tab>
        <mat-tab label="#Skills">

          <div class="center">
            <mat-card class="number-card">
              <mat-card-title-group class="subtitle">
                <mat-card-subtitle>Number of Skills</mat-card-subtitle>
              </mat-card-title-group>
              <mat-card-content>
                <h2> {{nrOfSkills}}</h2>
              </mat-card-content>
            </mat-card>
          </div>

        </mat-tab>
      </mat-tab-group>


    </div>

    <div class="container" id="inline">
      <mat-card class="mat-card1">

          <mat-card-header>
            <mat-card-title>Allocated Teams</mat-card-title>
          </mat-card-header>

          <mat-card-content class="mid">
            <mat-nav-list class="list">
              <mat-list-item *ngFor="let link of teams">
                <a matLine href="#">{{ link }}</a>      <!--redirect to a respective Team view here-->
                <button mat-icon-button (click)="showInfo(link)">
                </button>
              </mat-list-item>
            </mat-nav-list>
          </mat-card-content>
        </mat-card>

        <mat-card class="mat-card1">                                <!--FULL CARD THAT INCLUDES THE INNER CONTENT/LIST-->
          <mat-card-header>
            <mat-card-title>Allocated Projects</mat-card-title>
          </mat-card-header>

          <mat-card-content class="mid">                            <!--THE START OF THE LIST THAT IS DISPLAYED FROM THE DB-->
            <mat-nav-list class="list">
              <mat-list-item *ngFor="let link of projects">
                <a matLine href="#">{{ link }}</a>                      <!--redirect to a respective Team view here-->
                <button mat-icon-button (click)="showInfo(link)">
                </button>
              </mat-list-item>
            </mat-nav-list>
          </mat-card-content>
        </mat-card>
    </div>

      <!--THE TOP UTILIZATION SUMMARY-->

  </mat-card>

</mat-sidenav-content>
</mat-sidenav-container>
</body>
