<mat-accordion>
    <mat-expansion-panel (opened)="requestOpenState = true" (closed)="requestOpenState = false">
        <mat-expansion-panel-header>
            <mat-panel-title matTooltip="Click to expand team">
                {{Teams.teamName}}
            </mat-panel-title>
            <mat-panel-description>
                <mat-progress-bar mode="determinate" [value]="value" matTooltip="The Utilisation of the team"></mat-progress-bar>
                <button mat-raised-button class="InvdividualButton" color="warn" matTooltip="Remove team from Company" (click)="RemoveTeam(Teams.teamName)">
                    <mat-icon>delete_forever</mat-icon>
                </button>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <button class="userRequestButton" (click)="onOpenAddTeamMemberClick(Teams.teamName)" mat-button>Add Team Members <span class="example-spacer"></span><mat-icon>add</mat-icon></button>
        
        <mat-card-content ngDefaultControl [(ngModel)]="OutEmployeeName" *ngFor="let member of OutEmployeeName">
            <mat-card class="Mat-Individual" *ngIf="Teams.teamName===member.TeamName">
                <mat-card-content class="InvdividualBox">
                        <p class="InvdividualName">{{member.Name}} {{member.Surname}}<span id="emailText"> {{member.Email}} </span></p>



                        <span class="example-spacer"></span>
                        <mat-form-field appearance="fill" id="positions_drop_down">
                            <mat-label>Position</mat-label>
                            <mat-select>
                              <mat-option *ngFor="let food of foods" [value]="food.value">
                                {{food.viewValue}}
                              </mat-option>
                            </mat-select>
                        </mat-form-field>

                        <button mat-raised-button class="CheckMarkButton" color="primary"  matTooltip="Assign the position">
                            <mat-icon>done</mat-icon>
                        </button>

                        <button mat-raised-button class="InvdividualButton" color="warn" (click)="RemoveFromTeam(member.Email)" matTooltip="Remove member from team">
                            <mat-icon>delete_forever</mat-icon>
                        </button>
                </mat-card-content>
            </mat-card>
        </mat-card-content>
        
    </mat-expansion-panel>
</mat-accordion>
<!---TeamName.Name is a parent variable i.e inherited from the parent. I'm putting it in the cook
cookie to pass it to the pop-up-->